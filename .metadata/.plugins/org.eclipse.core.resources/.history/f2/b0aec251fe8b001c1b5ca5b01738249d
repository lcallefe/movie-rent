package StepDefinitions;

import static org.junit.Assert.assertEquals;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;

import cucumber.api.java.en.Given;
import cucumber.api.java.en.Then;
import cucumber.api.java.en.When;

public class DelayInDelivery {
	
	Date delivery = new Date();
	
	@Given("^the delivery time is (\\d{2})/(\\d{2})/(\\d{4})$")
	public void theDeliveryTimeIs(int day, int month, int year) {
	    Calendar cal = Calendar.getInstance();
	    cal.set(Calendar.DAY_OF_MONTH, day);
	    cal.set(Calendar.MONTH, month);
	    cal.set(Calendar.YEAR, year);
	    delivery = cal.getTime();
	    
	    
	}

	@When("^the delivery delays in (\\d+) days$")
	public void theDeliveryDelaysInDays(int day) {
		
		Calendar cal = Calendar.getInstance();
		cal.setTime(delivery);
		cal.add(Calendar.DAY_OF_MONTH, day);
		delivery = cal.getTime();

	}

	@Then("^the delivery will occur in (\\d{2}\\/\\d{2}\\/\\d{4})$")
	public void theDeliveryWillOccurIn(String date) {
		DateFormat format = new SimpleDateFormat("dd/MM/yyyy");
		String formattedDate = format.format(delivery);
		assertEquals(date, formattedDate);
		
	    
	}

}
